<!doctype html><html class="theme-next mist use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"493d9281"}),daovoice("update")</script><link href="https://cdn.staticfile.org/fancybox/3.4.0/jquery.fancybox.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Microsoft YaHei UI Light:300,300italic,400,400italic,700,700italic|方正楷体:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|STHeiti TC:300,300italic,400,400italic,700,700italic|Inconsolata:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="XSS,CSRF,浏览器安全策略,"><link rel="alternate" href="/atom.xml" title="ilovejwl" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0"><meta name="description" content="Web安全介绍与基础入门知识Web应用安全发展与介绍安全与安全圈中国黑客的发展是一个波折的过程起源90年代初-&amp;gt;发展97-99-&amp;gt;黑暗，21世纪初-&amp;gt;希望，今天1990年代初，部分人开始研究黑客技术1997-1999年，黑客团队涌现，进入黄金时代21世纪初，黑客工具傻瓜化，门槛降低，黑客精神不再…今天，希望是安全的春天甲方与乙方甲方，如腾讯、阿里等需要安全服务的公司乙方，提供安全"><meta name="keywords" content="XSS,CSRF,浏览器安全策略"><meta property="og:type" content="article"><meta property="og:title" content="web安全与防范"><meta property="og:url" content="https://www.52jwl.com/2018/09/06/web安全与防范/index.html"><meta property="og:site_name" content="ilovejwl"><meta property="og:description" content="Web安全介绍与基础入门知识Web应用安全发展与介绍安全与安全圈中国黑客的发展是一个波折的过程起源90年代初-&amp;gt;发展97-99-&amp;gt;黑暗，21世纪初-&amp;gt;希望，今天1990年代初，部分人开始研究黑客技术1997-1999年，黑客团队涌现，进入黄金时代21世纪初，黑客工具傻瓜化，门槛降低，黑客精神不再…今天，希望是安全的春天甲方与乙方甲方，如腾讯、阿里等需要安全服务的公司乙方，提供安全"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2018-09-06T14:41:23.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="web安全与防范"><meta name="twitter:description" content="Web安全介绍与基础入门知识Web应用安全发展与介绍安全与安全圈中国黑客的发展是一个波折的过程起源90年代初-&amp;gt;发展97-99-&amp;gt;黑暗，21世纪初-&amp;gt;希望，今天1990年代初，部分人开始研究黑客技术1997-1999年，黑客团队涌现，进入黄金时代21世纪初，黑客工具傻瓜化，门槛降低，黑客精神不再…今天，希望是安全的春天甲方与乙方甲方，如腾讯、阿里等需要安全服务的公司乙方，提供安全"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"post",offset:12,offset_float:0,b2t:!1,scrollpercent:!1},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:"",labels:""}}</script><link rel="canonical" href="https://www.52jwl.com/2018/09/06/web安全与防范/"><script type="text/javascript">!function(){var o="";try{o=sessionStorage.password||"",sessionStorage.initState||"0"}catch(s){o="","0",console.log("sessionStorage 无法使用。")}if("jwl"!==o)if("jwl"!==(o=prompt("请输入文章密码")))alert("密码错误！"),1===history.length?location.replace("https://www.52jwl.com"):history.back();else try{sessionStorage.password=o,sessionStorage.initState="1"}catch(s){console.log("sessionStorage 无法使用。")}}()</script><title>web安全与防范 | ilovejwl</title><link href="https://cdn.staticfile.org/prettify/r298/prettify.min.css" rel="stylesheet"><style type="text/css">.prettyprint{background:#131513;font-family:Menlo,"Bitstream Vera Sans Mono","DejaVu Sans Mono",Monaco,Consolas,monospace;border:0!important}.pln{color:#f4fbf4}ol.linenums{margin-top:0;margin-bottom:0;color:#687d68}li.L0,li.L1,li.L2,li.L3,li.L4,li.L5,li.L6,li.L7,li.L8,li.L9{padding-left:1em;background-color:#131513;list-style-type:decimal}@media screen{.str{color:#29a329}.kwd{color:#ad2bee}.com{color:#687d68}.typ{color:#3d62f5}.lit{color:#87711d}.pun{color:#f4fbf4}.opn{color:#f4fbf4}.clo{color:#f4fbf4}.tag{color:#e6193c}.atn{color:#87711d}.atv{color:#1999b3}.dec{color:#87711d}.var{color:#e6193c}.fun{color:#3d62f5}}</style></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container one-collumn sidebar-position-left page-post-detail"><div class="headband"></div><a href="https://your-url" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fd6c6c;color:#fff;position:absolute;top:0;border:0;right:0;z-index:1" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">ilovejwl</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">52jwl</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i><br>站点地图</a></li><li class="menu-item menu-item-commonweal"><a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://www.52jwl.com/2018/09/06/web安全与防范/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="jwl"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="ilovejwl"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">web安全与防范</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-06T22:41:23+08:00">2018-09-06 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/web安全/" itemprop="url" rel="index"><span itemprop="name">web安全</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/web安全/XSS、CSRF、安全策略/" itemprop="url" rel="index"><span itemprop="name">XSS、CSRF、安全策略</span> </a></span></span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa fa-file-o"></i> 本文热度 <span class="busuanzi-value" id="busuanzi_value_page_pv">1314520</span>°C</span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计</span> <span title="字数统计">4,013 </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长</span> <span title="阅读时长">15</span></div></div></header><div class="post-body" itemprop="articleBody"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="Web安全介绍与基础入门知识"><a href="#Web安全介绍与基础入门知识" class="headerlink" title="Web安全介绍与基础入门知识"></a>Web安全介绍与基础入门知识</h1><h2 id="Web应用安全发展与介绍"><a href="#Web应用安全发展与介绍" class="headerlink" title="Web应用安全发展与介绍"></a>Web应用安全发展与介绍</h2><h3 id="安全与安全圈"><a href="#安全与安全圈" class="headerlink" title="安全与安全圈"></a>安全与安全圈</h3><ol><li>中国黑客的发展是一个波折的过程</li><li>起源90年代初-&gt;发展97-99-&gt;黑暗，21世纪初-&gt;希望，今天<ol><li>1990年代初，部分人开始研究黑客技术</li><li>1997-1999年，黑客团队涌现，进入黄金时代</li><li>21世纪初，黑客工具傻瓜化，门槛降低，黑客精神不再…</li><li>今天，希望是安全的春天</li></ol></li><li>甲方与乙方<ol><li>甲方，如腾讯、阿里等需要安全服务的公司</li><li>乙方，提供安全服务、产品的服务型安全公司</li></ol></li><li>Web安全与二进制安全<ul><li>Web，研究Web安全</li><li>二进制，研究如客户端安全等</li></ul></li><li>那些圈内熟知的安全公司<ul><li>绿盟（前身是绿色兵团）</li><li>知道创宇</li><li>安天</li><li>启明星辰</li><li>安恒</li><li>天融信…</li></ul></li><li>Web安全<ul><li>也可以叫做Web应用安全。</li><li>互联网本来是安全的，自从有了研究安全的人之后，互联网就变的不安全了。</li></ul></li><li>Web应用和Web安全的发展<ul><li>Web应用经历了开始、1.0以及现在3.0概念的出现，不断的发展：<ol><li>20世纪60年代IBM的GML（通用标记语言）以及发展到后来的SGML(标准通用标记语言)</li><li>20世纪90年代，HTML的出现</li><li>浏览器的出现与发展</li><li>2004年之后，XMLHttpRequest的出现将Web推向了2.0时代</li><li>而现在，开始出现Web3.0的概念</li></ol></li><li>Web安全跟随者Web应用的发展也不断发展着：<ol><li>Web 1.0时代，更多被关注的是服务器端的脚本的安全问题，如SQL注入等</li><li>Web 2.0时代，2005年Samy蠕虫的爆发震惊了世界，Web安全主战场由服务器转换到浏览器</li><li>SQL注入和XSS的出现分别是Web安全史上的两个里程碑</li></ol></li></ul></li><li>Web安全隐患与本质<ul><li>Web安全的本质是信任问题<ol><li>由于信任，正常处理用户恶意的输入导致问题的产生</li><li>非预期的输入</li><li>安全是木桶原理，短的那块儿板决定了木桶究竟究竟能够装多少水，同样的，假设把99%的问题都处理了，那么1%的遗留就会是造成安全问题的那块儿短板。</li></ol></li></ul></li></ol><h2 id="HTTP-协议与会话管理"><a href="#HTTP-协议与会话管理" class="headerlink" title="HTTP 协议与会话管理"></a>HTTP 协议与会话管理</h2><h3 id="访问网址时，中间发生的事儿"><a href="#访问网址时，中间发生的事儿" class="headerlink" title="访问网址时，中间发生的事儿"></a>访问网址时，中间发生的事儿</h3><ol><li>输入网址</li><li>浏览器查找域名的IP地址</li><li>浏览器给Web服务器发送一个HTTP请求</li><li>服务器处理请求</li><li>服务端发回一个HTTP响应</li><li>浏览器渲染显示HTML</li></ol><h3 id="常见的URL（统一资源定位器）的结构"><a href="#常见的URL（统一资源定位器）的结构" class="headerlink" title="常见的URL（统一资源定位器）的结构"></a>常见的URL（统一资源定位器）的结构</h3><ol><li>scheme://login:password@address:prot/path/to/resource/?query_string#fragment</li><li>[ 1 scheme ][2 //][3 login:password][4 address][ 5 prot][6/path/to/resource/][7 ?query_string][8 #fragment]<ol><li>协议名称</li><li>层级URL的标记符号（固定不变，语法规定）</li><li>访问资源需要的凭证信息（可选）</li><li>从哪个服务器获取数据</li><li>需要连接的端口号（默认80，可选）</li><li>指向资源的层级文件路径</li><li>查询字符串</li><li>片段ID</li></ol></li><li>Cookie<ol><li>Name：Cookie的名称</li><li>Value:Cookie的值</li><li>Domain:用于指定Cookie的有效域</li><li>Path：用于设置Cookie的有效URL路径</li><li>Expires：用于设定Cookie的有效时间</li><li>Secure：如果设置该属性，仅在HTTPS 请求中提交Cookie</li><li>Http：其实应该是HttpOnly，如果设置该属性，客户端Javascript无法获取Cookie值。</li></ol></li><li>Session<ol><li>Key：Session的key</li><li>Value：Session对应的key的值</li></ol></li><li>Session与Cookie的区别<ol><li>Cookie的数据保存在客户端浏览器，Session保存在服务器</li><li>服务端保存状态机制需要在客户端做标记，所以Session可能借助Cookie机制</li><li>Cookie通常用于客户端保存用户的登陆状态</li></ol></li></ol><h2 id="Web应用的组成与网页的渲染"><a href="#Web应用的组成与网页的渲染" class="headerlink" title="Web应用的组成与网页的渲染"></a>Web应用的组成与网页的渲染</h2><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><ol><li>超文本标记语言</li><li>由标签（Tag）组成的层级结构，标签参数的格式为“名称=值”数据对，则文本节点（构成了文档实际内容）穿插其中。</li></ol><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><ol><li>link标签 rel href引入</li><li>内嵌引入 <code>&lt;style&gt;&lt;/style&gt;</code></li><li>行内的</li><li>使用@import</li></ol><h3 id="JavaScript（客户端脚本语言）"><a href="#JavaScript（客户端脚本语言）" class="headerlink" title="JavaScript（客户端脚本语言）"></a>JavaScript（客户端脚本语言）</h3><ol><li>使用script src 引入</li><li>内嵌 <code>&lt;script&gt;&lt;/script&gt;</code></li><li>使用行内</li></ol><h3 id="浏览器解析顺序"><a href="#浏览器解析顺序" class="headerlink" title="浏览器解析顺序"></a>浏览器解析顺序</h3><ol><li>先解析HTML</li><li>然后解析CSS</li><li>最后解析JS</li></ol><h3 id="浏览器解码顺序"><a href="#浏览器解码顺序" class="headerlink" title="浏览器解码顺序"></a>浏览器解码顺序</h3><ol><li>HTML 解码</li><li>URL 解码</li><li>JS 解码</li></ol><h3 id="DOM-树"><a href="#DOM-树" class="headerlink" title="DOM 树"></a>DOM 树</h3><ol><li>DOM ，文档对象模型（Document Object Model）</li><li>Js可以操作DOM树</li><li>捕获阶段、冒泡阶段、目标阶段</li></ol><h2 id="浏览器特性与安全策略"><a href="#浏览器特性与安全策略" class="headerlink" title="浏览器特性与安全策略"></a>浏览器特性与安全策略</h2><h3 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h3><ol><li>同源策略规定：不同域的客户端脚本在没明确授权的情况下，不能读写对方的资源。</li><li>同域与不同域：以 <a href="http://www.test.com" target="_blank" rel="noopener">www.test.com</a> 做比较<ol><li>http与https 协议不同，则归为不同域</li><li>www 与 demo 主机域名不同，则归为不同域</li><li>www 与 空 没有相同部分的主机域名 ，则归为不同域</li><li>:80 与 :81 端口不同，则归为不同域</li><li><a href="http://www.test.com/fo/1.html" target="_blank" rel="noopener">http://www.test.com/fo/1.html</a>, 只是多了目录，协议相同，域名相同，端口号相同，则归为同域</li></ol></li><li>授权<ol><li>HTTP响应头返回</li><li>Access-Control-Allow-Origin:<a href="http://www.fooying.com" target="_blank" rel="noopener">http://www.fooying.com</a></li></ol></li><li>同源策略就像 象棋里面的 楚河 汉界 ，如果没有同源策略，那么浏览器里面就会一片混乱。</li></ol><h3 id="安全策略"><a href="#安全策略" class="headerlink" title="安全策略"></a>安全策略</h3><h4 id="沙盒框架（Sandboxed-frame）"><a href="#沙盒框架（Sandboxed-frame）" class="headerlink" title="沙盒框架（Sandboxed frame）"></a>沙盒框架（Sandboxed frame）</h4><ol><li>是对常规<code>&lt;iframe&gt;</code>表现行为的扩展，它能让顶级页面对其嵌入的子页面及这些子页面的子资源设置一些额外的限制</li><li>通过设置<code>&lt;iframe&gt;</code>的参数实现限制 sandbox，设置这个属性的值，可以达到限制iframe中页面的功能</li></ol><h4 id="常用的属性值-sandbox-”Allow-scripts-Allow-scripts”"><a href="#常用的属性值-sandbox-”Allow-scripts-Allow-scripts”" class="headerlink" title="常用的属性值: sandbox=”Allow-scripts Allow-scripts”"></a>常用的属性值: sandbox=”Allow-scripts Allow-scripts”</h4><table><thead><tr><th style="text-align:center">属性值</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>Allow-scripts</code></td><td style="text-align:left">是否允许执行Javascript脚本，没有则不允许</td></tr><tr><td style="text-align:center"><code>Allow-scripts</code></td><td style="text-align:left">是否允许使用form表单，没有则不允许</td></tr><tr><td style="text-align:center"><code>Allow-top-navigation</code></td><td style="text-align:left">是否允许使用form表单，没有则不允许</td></tr><tr><td style="text-align:center"><code>Allow-same-origin</code></td><td style="text-align:left">是否允许访问同源数据，没有则不允许</td></tr></tbody></table><h4 id="Flash-安全沙箱"><a href="#Flash-安全沙箱" class="headerlink" title="Flash 安全沙箱"></a>Flash 安全沙箱</h4><ol><li>分为本地沙箱与远程沙箱</li><li>类似于同源策略，在同一域内的资料会被放到一个安全组下，称为安全沙箱</li><li><p>Web站点通过crossdomain.xml文件配置可以允许的域跨域访问本域上内容的权限（放置于站点根目录）</p><pre><code class="xml">     &lt;cross-domain-policy&gt;
         &lt;allow-acess-from domain=&quot;*.youku.com&quot; /&gt;
         &lt;allow-acess-from domain=&quot;*.ykimg.com&quot; /&gt;
         &lt;allow-acess-from domain=&quot;*.tudou.com&quot; /&gt;
     &lt;/cross-domain-policy&gt;

</code></pre><h4 id="Cookie的安全策略"><a href="#Cookie的安全策略" class="headerlink" title="Cookie的安全策略"></a>Cookie的安全策略</h4></li><li>Domain ：用于指定Cookie的有效域</li><li>Path ：用于指定Cookie的有效URL路径</li><li>Secure： 如果设置该属性，仅在HTTP请求中提交Cookie</li><li>HTTP ：其实应该是HttpOnly，如果设置该属性，客户端Javascript无法获取该Cookie值</li></ol><h4 id="内容安全策略（Content-Security-Policey-CSP）"><a href="#内容安全策略（Content-Security-Policey-CSP）" class="headerlink" title="内容安全策略（Content Security Policey CSP）"></a>内容安全策略（Content Security Policey CSP）</h4><ol><li>通过编码在HTTP响应头中的指令来实施策略<pre><code class="http">     X-Content-Security-Policy:script-src &#39;self&#39; https://www.test.com
</code></pre></li></ol><h4 id="CSP的一些指令"><a href="#CSP的一些指令" class="headerlink" title="CSP的一些指令"></a>CSP的一些指令</h4><table><thead><tr><th style="text-align:center">属性值</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>plugin-types</code></td><td style="text-align:left">该指令指定了哪些MIME类型的插件可以被加载（最新尚未有浏览器正确支持）</td></tr><tr><td style="text-align:center"><code>form-action</code></td><td style="text-align:left">该指令指定了HTML 表单可以提交的URLS（最新尚未有浏览器正确支持）</td></tr><tr><td style="text-align:center"><code>reflected-xxs</code></td><td style="text-align:left">该指令告诉浏览器开启或关闭任何用于过滤或组织反射跨站脚本攻击的启发式算法，这相当于X-XXS-Protection 响应头的效果（最新尚未有浏览器正确支持）。reflected-xss相当于X-XSS-Protection:1;mode=block</td></tr><tr><td style="text-align:center"><code>default-src</code></td><td style="text-align:left">该指令在某种资源类型指定指令没有被定义的情况下指定了所有资源类型的加载策略（即默认的资源加载策略）</td></tr><tr><td style="text-align:center"><code>script-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的脚本的域或URL</td></tr><tr><td style="text-align:center"><code>object-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的插件，如Flash</td></tr><tr><td style="text-align:center"><code>style-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的CSS样式表的域或URL</td></tr><tr><td style="text-align:center"><code>img-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的图片的域或UR</td></tr><tr><td style="text-align:center"><code>media-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的音视频的域或URL</td></tr><tr><td style="text-align:center"><code>frame-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的框架的域或URL</td></tr><tr><td style="text-align:center"><code>font-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的字体的域或URL</td></tr><tr><td style="text-align:center"><code>connect-src</code></td><td style="text-align:left">该指令指定了Web应用程序可以加载的像XHR、WebSockets、以及EventSource的域或URL</td></tr></tbody></table><h2 id="XSS-入门与介绍"><a href="#XSS-入门与介绍" class="headerlink" title="XSS 入门与介绍"></a>XSS 入门与介绍</h2><h3 id="XSS-的入门与介绍"><a href="#XSS-的入门与介绍" class="headerlink" title="XSS 的入门与介绍"></a>XSS 的入门与介绍</h3><h4 id="什么是跨站点脚本攻击？"><a href="#什么是跨站点脚本攻击？" class="headerlink" title="什么是跨站点脚本攻击？"></a>什么是跨站点脚本攻击？</h4><ul><li>XSS ,全程跨站点脚本攻击（Cross Site Scripting），一种注入式攻击方式</li></ul><h4 id="XSS漏洞的危害"><a href="#XSS漏洞的危害" class="headerlink" title="XSS漏洞的危害"></a>XSS漏洞的危害</h4><ul><li>XSS成因<ol><li>对于用户输入没有严格控制而直接输出到页面</li><li>对非预期输入的信任</li></ol></li><li>XSS的危害<ol><li>盗取各类用户账号，如机器登陆账号、用户网银账号、各类管理员账号</li><li>窃取数据</li><li>非法转账</li><li>挂马</li></ol></li></ul><h4 id="XSS跨站脚本攻击的实例"><a href="#XSS跨站脚本攻击的实例" class="headerlink" title="XSS跨站脚本攻击的实例"></a>XSS跨站脚本攻击的实例</h4><ol><li>Payload（有效荷载），子弹爆炸的效果<pre><code class="html">     &lt;img src=&#39;0&#39; onerror=&#39;alert(5)&#39; /&gt; ，
</code></pre></li><li>什么是PoC？<ol><li>验证程序，验证一个漏洞是否存在，无害，就像一个空包弹的子弹</li></ol></li><li>什么是Exp？<ol><li>利用程序，利用这个漏洞，有害，就像一个实弹的子弹</li></ol></li></ol><h3 id="XSS-的分类"><a href="#XSS-的分类" class="headerlink" title="XSS 的分类"></a>XSS 的分类</h3><h4 id="常规的XSS分类"><a href="#常规的XSS分类" class="headerlink" title="常规的XSS分类"></a>常规的XSS分类</h4><ol><li>存储型（持久型）<ol><li>留言板功能，会将你提交的数据存储到数据库中。</li></ol></li><li>反射型（非持久型）<ol><li>前台通过传递参数的方式，后台直接读取然后展示到页面上， 不会存储到数据库中。<pre><code class="html">     http://www.xx.com/search.html?key_pro=&lt;script&gt;confirm(1501)&lt;/script&gt;
</code></pre></li></ol></li><li>DOM型<ol><li>其实DOM型也属于反射型的一种，不过比较特殊，所以一般也当作一种单独类。</li><li>前台通过#锚点的方式进行传递参数，然后页面通过读取锚点中的数据然后输出到页面中。<pre><code class="html">     http://www.xx.com/search.html/#&lt;img src=&#39;0&#39; onerror=&#39;alert(5)&#39; /&gt; 
</code></pre><pre><code class="js">     document.write(location.hash.substr(1));
</code></pre></li><li>这样一来后台不做处理，前台做处理了。</li></ol></li></ol><h4 id="其它XSS类别"><a href="#其它XSS类别" class="headerlink" title="其它XSS类别"></a>其它XSS类别</h4><ol><li>mXSS（突变型XSS）</li><li>UXSS（通用型XSS）</li><li>Flash XSS</li><li>UTF-7 XSS</li><li>MHTML XSS<ol><li>MHTML是MIME HTML 聚合超文本标记语言的缩写,早在ie8、ie9就已经不支持了</li><li>访问方式：mhtml:<a href="http://www.x.com/a.html!xss" target="_blank" rel="noopener">www.x.com/a.html!xss</a><pre><code class="mhtml">    Content-Type:multipart/related;boundary=&quot;x&quot;
    --x
    Content-Location:xss
    Content-Transfer-Encoding:base64
    PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==
    --x--
</code></pre></li></ol></li><li>CSS XSS<ol><li>这种方式只在ie6及以下版本支持<pre><code class="html">     &lt;html&gt;
       &lt;head&gt;&lt;/head&gt;
       &lt;body&gt;
         &lt;style&gt;
           body {width:expression(alert(1));:red;}
         &lt;/style&gt;
       &lt;/body&gt;
     &lt;/html&gt;
</code></pre></li></ol></li><li>VBScript XSS<ul><li>这种xss 也只存在ie</li></ul></li></ol><h3 id="XSS盲打平台与蠕虫"><a href="#XSS盲打平台与蠕虫" class="headerlink" title="XSS盲打平台与蠕虫"></a>XSS盲打平台与蠕虫</h3><h4 id="XSS盲打平台"><a href="#XSS盲打平台" class="headerlink" title="XSS盲打平台"></a>XSS盲打平台</h4><ol><li>XSS盲打是指攻击者对数据提交后展现的后台未知情况下的一种XSS攻击方式</li><li>XSS盲打平台就是为这种方式提供基本平台功能</li><li>XSS盲打平台的使用<ol><li>XSS Platform</li><li>秒杀Xsser.me的渗透工具Beef</li></ol></li><li>盲打平台，你可以在里面通过选择一些xxs的功能，然后加一些接口生成代码，最后生成preload的短链接，之后你把最后生成的preload复制黏贴到你认为有xss漏洞的地方进行测试，如表单提交等，如果测试成功，那么就会在盲打平台里面生成相应的信息，但是你需要等待，因为你提交的preload并不是立即被执行，如果证明你的preload代码生效，也就说明那些漏洞存在。</li></ol><h4 id="XSS-蠕虫"><a href="#XSS-蠕虫" class="headerlink" title="XSS 蠕虫"></a>XSS 蠕虫</h4><ol><li>Samy蠕虫（世界上第一只蠕虫）</li><li>2005年10月14日，“Samy worm”成为第一大使用跨站脚本进行传播感染的蠕虫。一夜之间，蠕虫在世界最流行的社交网站MySpace.com上，更改了超过一百万个人用户个人资料页面。</li></ol><h4 id="XSS-蠕虫的原理"><a href="#XSS-蠕虫的原理" class="headerlink" title="XSS 蠕虫的原理"></a>XSS 蠕虫的原理</h4><ol><li>利用XSS实现某些操作，比如微博关注用户</li><li>实现某些操作的同时，触发蠕虫代码复制和传播</li><li>推荐：《XSS蠕虫&amp;病毒–即将发生的威胁与最好的防御》</li></ol><h2 id="跨站仿造请求（CSRF）"><a href="#跨站仿造请求（CSRF）" class="headerlink" title="跨站仿造请求（CSRF）"></a>跨站仿造请求（CSRF）</h2><h3 id="CSRF-简介"><a href="#CSRF-简介" class="headerlink" title="CSRF 简介"></a>CSRF 简介</h3><h4 id="什么是CSRF"><a href="#什么是CSRF" class="headerlink" title="什么是CSRF?"></a>什么是CSRF?</h4><ol><li>CSRF，全称跨站伪造请求（Cross-site request forgery），也称为one click attack/session riding，还可以缩写为XSRF。</li><li>通俗的说就是利用被害者的身份去发送请求！</li></ol><h4 id="CSRF原理"><a href="#CSRF原理" class="headerlink" title="CSRF原理"></a>CSRF原理</h4><ol><li>当用户登录网站A之后，浏览器记录的cookie，然后用户再去访问其它B页面时，其它B页面嵌入一个想A网站提交内容的表单，当用户一访问这个网站，就会自动向A网站提交表单中的内容，因为这个表单是向网站A发送请求，浏览器就会以为是用户自己向网站A发送请求，这时候就会在请求头部携带网站A的cookie，这时候模拟用户提交表单信息的步骤就完成了。</li><li>示例,删除文章。<ol><li><code>http://www.a.com/del?id=333删除id为333的文章（登陆后可操作）</code></li><li><code>http://www.b.com/csrf.html</code></li><li><code>&lt;img src=&quot;http://www.a.com/del?id=333&quot;&gt;</code></li></ol></li><li>浏览器的Cookie保存机制<ol><li>Seesion Cookie，浏览器不关闭则不失效。</li><li>本地Cookie，过期时间内不管浏览器关闭与否均不失效。</li></ol></li><li>在某些浏览器上是会默认拦截的，跨站点访问携带cookie时会对本地cookie进行拦截，如IE、苹果浏览器。</li></ol><h4 id="CSRF与XSS的区别"><a href="#CSRF与XSS的区别" class="headerlink" title="CSRF与XSS的区别"></a>CSRF与XSS的区别</h4><ol><li>XSS:利用用户输入的不严谨然后执行JS语句。</li><li>CSRF：通过伪造受信任用户发送请求。</li><li>CSRF可以通过XSS来实现，比如通过XSS来操作DOM树来进行一些请求，DOM树中也有表单。</li></ol><h3 id="CSRF-的几种常见攻击方式"><a href="#CSRF-的几种常见攻击方式" class="headerlink" title="CSRF 的几种常见攻击方式"></a>CSRF 的几种常见攻击方式</h3><h4 id="HTML-CSRF"><a href="#HTML-CSRF" class="headerlink" title="HTML CSRF"></a>HTML CSRF</h4><ul><li>通过HTML元素发起CSRF请求<pre><code class="html">      1. &lt;link href=&quot;&quot; /&gt;
      2. &lt;img src=&quot;&quot; /&gt;
      3. &lt;frame src=&quot;&quot; /&gt;
      4. &lt;script src=&quot;&quot; &gt;&lt;script&gt;
      5. &lt;video src=&quot;&quot; /&gt;、&lt;audio src=&quot;&quot; /&gt; &lt;embed src=&quot;&quot; /&gt;
      6. background:url(&#39;&#39;)
</code></pre></li></ul><h4 id="JSON-HiJacking（JSON劫持）"><a href="#JSON-HiJacking（JSON劫持）" class="headerlink" title="JSON HiJacking（JSON劫持）"></a>JSON HiJacking（JSON劫持）</h4><ol><li>构造自定义的回调函数</li><li><a href="http://www.b.com/csrf.html中的内容如下" target="_blank" rel="noopener">http://www.b.com/csrf.html中的内容如下</a><pre><code class="html">     &lt;script&gt;
         function hijack(data){console.log(data);}
     &lt;/script&gt;
     &lt;script src=&quot;http://www.a.com/json?callback=hijack&quot;&gt;
     &lt;/script&gt;
</code></pre></li></ol><h4 id="Flash-CSRF"><a href="#Flash-CSRF" class="headerlink" title="Flash CSRF"></a>Flash CSRF</h4><ul><li>通过Flash来实现跨域请求,如下就是flash脚本语言<pre><code class="flash">      import flash.net.URLRequest;
      function get(){
          var url=new URLRequest(&quot;http://a.com/json?callback=hijack&quot;);
          url.method=&#39;GET&#39;;
          sendToURL(url);
      }
</code></pre></li></ul><h3 id="CSRF-的防御"><a href="#CSRF-的防御" class="headerlink" title="CSRF 的防御"></a>CSRF 的防御</h3><ol><li>通过验证码进行防御，<ol><li>每一次表单提交都要输入验证码，</li><li>也就是说，你模拟不了后台的验证码检测，当然需要后台每次都重新生成验证码</li><li>每检测一次就销毁之前的验证码，重新生成新的验证码。</li></ol></li><li>检查请求来源<ol><li>每一次请求都有一个Refener</li><li>你可以通过检测这个Refener的值是否是当前域名或你所允许的域名</li><li>但是这个Refener只是一个请求头部的字符串，可以伪造</li></ol></li><li>增加请求参数 token<ol><li>可以使用隐藏域来实现，后台向前台发送一个表单时，随机生成一个token</li><li>然后前台每次提交都会附加上这个token。因为这个token是一个随机生成的，</li><li>所以，别人模拟不出来，就算模拟出来了，也不一样，但是每次请求这个页面时都随机生成一个token，如果token每次都一样，那么就没有多大意义。</li><li>这个token对应了本地的session在服务器上的一块儿存储区域中的值，你发送请求到服务区器上时，会根据你的session来取服务器上的值进行对比。</li><li>如对比失败，那么就说明你是模拟来的，除非你进行xss获取到了页面上的token，并且传递值过去了，否则不会请求验证成功。</li></ol></li></ol></div><div><div class="my_post_copyright"><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script><script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script><p><span>本文标题:</span><a href="/2018/09/06/web安全与防范/">web安全与防范</a></p><p><span>文章作者:</span><a href="/" title="访问 jwl 的个人博客">jwl</a></p><p><span>发布时间:</span>2018年09月06日 - 22:09</p><p><span>最后更新:</span>2018年09月06日 - 22:09</p><p><span>原始链接:</span><a href="/2018/09/06/web安全与防范/" title="web安全与防范">https://www.52jwl.com/2018/09/06/web安全与防范/</a> <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://www.52jwl.com/2018/09/06/web安全与防范/" aria-label="复制成功！"></i></span></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p></div><script>var clipboard=new Clipboard(".fa-clipboard");$(".fa-clipboard").click(function(){clipboard.on("success",function(){swal({title:"",text:"亲！好了哦",icon:"success",showConfirmButton:!0,confirmButtonColor:"#ef4e7b"})})})</script></div><div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div><button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'><span>赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" width="100" height="100" src="http://static.dramastyle.com/images/3/7/1301/My-NeighborTotoro__6.jpg" alt="jwl WeChat Pay"><p>龙猫打赏</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" width="100" height="100" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1535968240695&di=983c0ca46cee2ca40f9d6df3d33a95bd&imgtype=0&src=http%3A%2F%2Fimg3.duitang.com%2Fuploads%2Fitem%2F201506%2F13%2F20150613121207_AGkUF.jpeg" alt="jwl Alipay"><p>金鱼姬打赏</p></div></div></div></div><div><div><div style="text-align:center;color:#555;font-size:14px">--------------------i love jwl--------------------</div></div></div><footer class="post-footer"><div class="post-tags"><a href="./tags/XSS/"><i class="fa fa-tag"></i> XSS</a> <a href="./tags/CSRF/"><i class="fa fa-tag"></i> CSRF</a> <a href="./tags/浏览器安全策略/"><i class="fa fa-tag"></i> 浏览器安全策略</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2018/09/07/web性能与优化/" rel="prev" title="web性能与优化">web性能与优化 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"><div class="addthis_inline_share_toolbox"><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b8917fd9ef2beb8" async></script></div></div></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zOTQwOC8xNTkzNQ=="></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="jwl"><p class="site-author-name" itemprop="name">jwl</p><p class="site-description motion-element" itemprop="description">从喜欢到爱的一路前端风</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">17</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories"><span class="site-state-item-count">27</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags"><span class="site-state-item-count">88</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/52jwl" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub </a></span><span class="links-of-author-item"><a href="https://www.freecodecamp.cn/52jwl" target="_blank" title="fcc"><i class="fa fa-fw fa-free-code-camp"></i> fcc </a></span><span class="links-of-author-item"><a href="https://www.jianshu.com/u/439a6eee60e1" target="_blank" title="简书"><i class="fa fa-fw fa-book"></i> 简书 </a></span><span class="links-of-author-item"><a href="http://blog.csdn.net/jwl_lwj" target="_blank" title="CSDN"><i class="fa fa-fw fa-rotate-right"></i> CSDN</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-globe"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://www.alloyteam.com/nav/" title="Web前端导航" target="_blank">Web前端导航</a></li><li class="links-of-blogroll-item"><a href="http://www.chuangzaoshi.com/code" title="创造狮导航" target="_blank">创造狮导航</a></li><li class="links-of-blogroll-item"><a href="http://www.36zhen.com/t?id=3448" title="前端书籍资料" target="_blank">前端书籍资料</a></li><li class="links-of-blogroll-item"><a href="http://e.xitu.io/" title="掘金酱" target="_blank">掘金酱</a></li><li class="links-of-blogroll-item"><a href="https://www.v2ex.com/" title="V2EX" target="_blank">V2EX</a></li><li class="links-of-blogroll-item"><a href="https://www.v2ex.com/" title="印记中文" target="_blank">印记中文</a></li></ul></div><div id="days"></div><script>function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("01/10/2017 12:34:56"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Web安全介绍与基础入门知识"><span class="nav-number">1.</span> <span class="nav-text">Web安全介绍与基础入门知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Web应用安全发展与介绍"><span class="nav-number">1.1.</span> <span class="nav-text">Web应用安全发展与介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安全与安全圈"><span class="nav-number">1.1.1.</span> <span class="nav-text">安全与安全圈</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-协议与会话管理"><span class="nav-number">1.2.</span> <span class="nav-text">HTTP 协议与会话管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#访问网址时，中间发生的事儿"><span class="nav-number">1.2.1.</span> <span class="nav-text">访问网址时，中间发生的事儿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见的URL（统一资源定位器）的结构"><span class="nav-number">1.2.2.</span> <span class="nav-text">常见的URL（统一资源定位器）的结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web应用的组成与网页的渲染"><span class="nav-number">1.3.</span> <span class="nav-text">Web应用的组成与网页的渲染</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML"><span class="nav-number">1.3.1.</span> <span class="nav-text">HTML</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS"><span class="nav-number">1.3.2.</span> <span class="nav-text">CSS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JavaScript（客户端脚本语言）"><span class="nav-number">1.3.3.</span> <span class="nav-text">JavaScript（客户端脚本语言）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#浏览器解析顺序"><span class="nav-number">1.3.4.</span> <span class="nav-text">浏览器解析顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#浏览器解码顺序"><span class="nav-number">1.3.5.</span> <span class="nav-text">浏览器解码顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM-树"><span class="nav-number">1.3.6.</span> <span class="nav-text">DOM 树</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#浏览器特性与安全策略"><span class="nav-number">1.4.</span> <span class="nav-text">浏览器特性与安全策略</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#同源策略"><span class="nav-number">1.4.1.</span> <span class="nav-text">同源策略</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全策略"><span class="nav-number">1.4.2.</span> <span class="nav-text">安全策略</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#沙盒框架（Sandboxed-frame）"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">沙盒框架（Sandboxed frame）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#常用的属性值-sandbox-”Allow-scripts-Allow-scripts”"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">常用的属性值: sandbox=”Allow-scripts Allow-scripts”</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Flash-安全沙箱"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">Flash 安全沙箱</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie的安全策略"><span class="nav-number">1.4.2.4.</span> <span class="nav-text">Cookie的安全策略</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#内容安全策略（Content-Security-Policey-CSP）"><span class="nav-number">1.4.2.5.</span> <span class="nav-text">内容安全策略（Content Security Policey CSP）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSP的一些指令"><span class="nav-number">1.4.2.6.</span> <span class="nav-text">CSP的一些指令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XSS-入门与介绍"><span class="nav-number">1.5.</span> <span class="nav-text">XSS 入门与介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XSS-的入门与介绍"><span class="nav-number">1.5.1.</span> <span class="nav-text">XSS 的入门与介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#什么是跨站点脚本攻击？"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">什么是跨站点脚本攻击？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XSS漏洞的危害"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">XSS漏洞的危害</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XSS跨站脚本攻击的实例"><span class="nav-number">1.5.1.3.</span> <span class="nav-text">XSS跨站脚本攻击的实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XSS-的分类"><span class="nav-number">1.5.2.</span> <span class="nav-text">XSS 的分类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#常规的XSS分类"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">常规的XSS分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其它XSS类别"><span class="nav-number">1.5.2.2.</span> <span class="nav-text">其它XSS类别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XSS盲打平台与蠕虫"><span class="nav-number">1.5.3.</span> <span class="nav-text">XSS盲打平台与蠕虫</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#XSS盲打平台"><span class="nav-number">1.5.3.1.</span> <span class="nav-text">XSS盲打平台</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XSS-蠕虫"><span class="nav-number">1.5.3.2.</span> <span class="nav-text">XSS 蠕虫</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XSS-蠕虫的原理"><span class="nav-number">1.5.3.3.</span> <span class="nav-text">XSS 蠕虫的原理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#跨站仿造请求（CSRF）"><span class="nav-number">1.6.</span> <span class="nav-text">跨站仿造请求（CSRF）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CSRF-简介"><span class="nav-number">1.6.1.</span> <span class="nav-text">CSRF 简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#什么是CSRF"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">什么是CSRF?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSRF原理"><span class="nav-number">1.6.1.2.</span> <span class="nav-text">CSRF原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSRF与XSS的区别"><span class="nav-number">1.6.1.3.</span> <span class="nav-text">CSRF与XSS的区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSRF-的几种常见攻击方式"><span class="nav-number">1.6.2.</span> <span class="nav-text">CSRF 的几种常见攻击方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#HTML-CSRF"><span class="nav-number">1.6.2.1.</span> <span class="nav-text">HTML CSRF</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JSON-HiJacking（JSON劫持）"><span class="nav-number">1.6.2.2.</span> <span class="nav-text">JSON HiJacking（JSON劫持）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Flash-CSRF"><span class="nav-number">1.6.2.3.</span> <span class="nav-text">Flash CSRF</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSRF-的防御"><span class="nav-number">1.6.3.</span> <span class="nav-text">CSRF 的防御</span></a></li></ol></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright" style="text-align:center;line-height:50px;font-size:16px">&copy; 2017 - <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-snowflake-o"></i> </span><span class="author" itemprop="copyrightHolder">jwl</span><div class="powered-by">| <i class="fa fa-user-md"></i> <span id="busuanzi_container_site_uv"><a class="theme-link" href="https://www.52jwl.com">i love jwl：</a> <span id="busuanzi_value_site_uv"></span></span></div><div class="theme-info"><span class="post-count">已统计字数:199.1k</span></div></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="https://cdn.staticfile.org/fastclick/1.0.6/fastclick.min.js"></script><script type="text/javascript" src="https://cdn.staticfile.org/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script><script type="text/javascript" src="https://cdn.staticfile.org/fancybox/3.4.0/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><script type="text/javascript">var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path;function proceedsearch(){$("body").append('<div class="local-search-pop-overlay">').css("overflow","hidden"),$(".popup").toggle()}var searchFunc=function(e,c,s){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var t=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),a=document.getElementById(c),r=document.getElementById(s);a.addEventListener("input",function(){var u=0,d='<ul class="search-result-list">',f=this.value.trim().toLowerCase().split(/[\s\-]+/);r.innerHTML="",1<this.value.trim().length&&t.forEach(function(e){var a=!1,r=e.title.trim().toLowerCase(),c=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),t=decodeURIComponent(e.url),s=-1,n=-1,o=-1;if(""!=r&&f.forEach(function(e,t){s=r.indexOf(e),n=c.indexOf(e),(0<=s||0<=n)&&(a=!0,0==t&&(o=n))}),a){u+=1,d+="<li><a href='"+t+"' class='search-result-title'>"+r+"</a>";var i=e.content.trim().replace(/<[^>]+>/g,"");if(0<=o){var l=o-20,p=o+80;l<0&&(l=0),0==l&&(p=50),p>i.length&&(p=i.length);var h=i.substring(l,p);f.forEach(function(e){var t=new RegExp(e,"gi");h=h.replace(t,'<b class="search-keyword">'+e+"</b>")}),d+='<p class="search-result">'+h+"...</p>"}d+="</li>"}}),d+="</ul>",0==u&&(d='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==f&&(d='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),r.innerHTML=d}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script><script type="text/javascript" color="255,0,0" opacity="0.5" zindex="-2" count="100" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript">var live2dIsExistsTimer=setInterval(function(){var e=document.getElementById("live2dcanvas");if(e){function t(e){e.style.right=document.body.offsetWidth/4+"px"}t(e),addEventListener("resize",function(){t(e)}),clearInterval(live2dIsExistsTimer)}else console.log(e,"获取失败")},500)</script><script type="text/javascript" src="/js/src/dynamicTitle.js"></script><script src="https://cdn.staticfile.org/prettify/r298/prettify.min.js"></script><script>$(function(){$("pre").addClass("prettyprint linenums").attr("style","overflow:auto;"),prettyPrint()})</script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":75,"height":150,"hOffset":320,"vOffset":-20},"log":false});</script></body></html>